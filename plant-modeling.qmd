---
title: "plant-modeling"
format: html
editor: visual
---

stats week-6-lab could be helpful to look at

```{r}
library(tidyverse)
source(file.path("data_fetch.R"))
```


```{r}
ggplot(join, aes(x = avg_photo)) +
  geom_histogram()
```


```{r}
ggplot(data = join, aes(x = avg_photo, y = pop_trend)) + 
  geom_jitter(width = 0, height = 0.05, alpha = 0.8) 
```

```{r}
ggplot(data = join, aes(x = avg_photo, y = pop_trend_binary)) + 
  geom_jitter(width = 0, height = 0.05, alpha = 0.8) +
  geom_smooth(method = "lm", se = FALSE) +
  labs(x = "photosynthetic rate", y = "decreasing or stable pop. trend")
```


```{r}
mod_photo <- glm(pop_trend_binary~avg_photo, data = join, family = 'binomial') # binomial dist; prob of 1 and 0 over many trials
summary(mod_photo)
```


```{r}
toSolve <- function(p) {
  (1-p)*exp(1.56-0.05847*64) - p
  }

uniroot(toSolve, interval = c(0, 1))$root
```


```{r}
ggplot(data = join, aes(x = avg_photo, y = pop_trend_binary)) + 
  geom_jitter(width = 0, height = 0.05, alpha = 0.8) +
  geom_smooth(method = "lm", se = FALSE) +
  geom_smooth(method = "glm", se = FALSE, color = "red", 
              method.args = list(family = "binomial"))
```

```{r}

```

